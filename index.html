
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>CorgaLabs Blog</title>
  <meta name="author" content="Chris McEniry">

  
  <meta name="description" content="For some reason, I&#8217;m in a reflective mode, so this entry is going to be a bit on
the narcissistic and cathartic side. Feel free to pass on this &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://cmceniry.github.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="CorgaLabs Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">CorgaLabs Blog</a></h1>
  
    <h2>Confessions of a SysAdmin-o-Path</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:cmceniry.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/23/why-do-i-do-defcon/">Why Do I Do DefCon?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-23T21:24:00-07:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For some reason, I&#8217;m in a reflective mode, so this entry is going to be a bit on
the narcissistic and cathartic side. Feel free to pass on this one as it&#8217;s
mostly for me.</p>

<p>Just spent the last few weeks doing a bit of conferences and running around.
This is that fine time of year for me where I&#8217;m away more than I&#8217;m present. It
definitely takes its toll, both physically and mentally. A lot of the time, I
don&#8217;t get to see talks, I don&#8217;t end up at parties (my choice), I don&#8217;t end up
passed out drunk (only so much when you limit yourself to frufru drinks), and I
don&#8217;t end up with anything interesting to show of it. At the same time, I put up
with some assholes, and some people who aren&#8217;t too sure what they&#8217;re doing (to
put it nicely).</p>

<p>So why do I do it?</p>

<p>I have to admit that I started it just to be a part of it. To be able to say
that I was big and badass. I&#8217;ve always like the CyberPunk motif and to be a part
of it is such a feeling. It&#8217;s not necessarily the best reason, but I have to
admit to myself and others as to why.</p>

<p>As I said, I&#8217;m not really in it for the parties, or the debauchery (well, I
could be talked into that one ;)), or the interaction with thousands of people,
or the purposeful trolling.</p>

<p>For me, the best reason I think of is that it&#8217;s really about the doing. Seeing
what you can accomplish. Digging under the surface and seeing more than what
others see. Finding out. Exploring. Basically, a bunch of the fun stuff that
people ascribe to the &#8220;hacker ethos.&#8221;  I consider myself a lifetime learner and
tinkerer, and this reinforces it. From the world class expert telling the world
what she knows, to the newbie who is just there to find out why he can find,
it&#8217;s all there.</p>

<p>I think I finally heard it this year. Not sure why it took me this long, but
there&#8217;s a focus on The Community. DefCon is a conference that is better because
of the attendees. If you show up, there&#8217;s a good chance that you&#8217;re going to be
participating, and not just watching. If you&#8217;re just watching, you&#8217;re watching
the other attendees as much as any organizer. As organizers, we&#8217;re there to
create the space so that you can give all you want to give.</p>

<p>We want you to have fun.</p>

<p>I want to have fun. And I have fun by doing. So, that&#8217;s why I do DefCon.</p>

<p>I think one of the big things for me to work on over the coming years is to be
more a part of The Community, and the family. Not sure how to make that happen,
but something about the first step being recognize it.</p>

<p>One last call out. To my fellow goons, those that I know and those that I don&#8217;t,
I salute you. Everyone of you impress me and inspire me to be a better goon.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/27/stepping-up-the-san-diego-computer-tech-community/">Stepping Up the San Diego Computer Tech Community</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-27T00:13:00-07:00" pubdate data-updated="true">Jul 27<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was at a tech conference this week, and talking with some people. Most of them were former San Diego people who are now SF or Austin. It came up that SD is lacking in the size of its computer tech community. Sure there&#8217;s a lot of good stuff in Biotech, but if you look at the number of computer start ups, we don&#8217;t have the same feel as LA or NY (I&#8217;m not even including SF as it&#8217;s a different category). There&#8217;s 17 meet ups in just the next week for &#8220;Tech,&#8221; and 110 groups in the area. Is it enough? I&#8217;m not sure as I can&#8217;t say how active they are, but 17 seems like a low number for meetings. So, I think there is some truth to SD not being in the same league, but I think it&#8217;s also something we can change.</p>

<p>Though it&#8217;s nice to be a big fish, even if it&#8217;s a small pond, one of the better was to improve is to surround yourself with people who will bring you up. There&#8217;s some adage about not being the biggest fish in the pond.</p>

<p>Personally - leaving SD isn&#8217;t a huge option for me, and I&#8217;m still iffy on telecommuting. So, I&#8217;m left with making SD a better place. &#8220;Left with&#8221; is probably the wrong word choice with a negative connotation. Reality is that it&#8217;s just the place that I am right now. So, all of those behoove me to make SD a better place for this.</p>

<p>So, &#8220;Why is SD like this?&#8221; Part of me wants to avoid that question completely, but you can&#8217;t really address a problem unless you identify it. So, here&#8217;s my reasons:</p>

<p>.) Location - The county is spread out a bit, so it&#8217;s hard to build momentum when you can&#8217;t even build it in one place
.) Support - Most of the big supports are companies and, currently, those support what SD is known for: Biotech and Military.
.) Topics/discussion - &#8220;There&#8217;s few people will to lead a discussion.&#8221; This is self-fulfilling crap. Momentum builds but you gotta get it going first.
.) Ganas - There&#8217;s a concern that the culture here just isn&#8217;t as go-getting as SF or other places. That seems to put is into a Fixed Mindset rather than a Growth Mindset. But Mindsets can change.</p>

<p>What can we do for each of these? In the groups that I&#8217;m working with (largely, LOPSA-SD and the SD Cassandra User Meetups):</p>

<p>Location: I think this is a matter of being a bit flexible (stealing this from some comments on <a href="http://anonymoushash.vmbrasseur.com/2014/07/15/san-francisco-perl-mongers-12-months-50-growth/">SF Perl Mongers</a> - interesting to see them talking about how to address not being as involved as they&#8217;d like. To that, I&#8217;m gonna start by making it a bit optional. I think getting some video recordings or live streaming going is step 1. Beyond that, probably playing with the actual location or timing will help us find the right fit. I think long term, it&#8217;s best to have some stability, but in the short term, we probably have to experiment a bit to see what the community wants.</p>

<p>Support: I know that some company support has been coming. It&#8217;s time to extend this into reaching out to other groups and see what we can do to support each other. Maybe offering some goods and services, or location, or joint meetings. I&#8217;m not sure, but this is an area to take a look at. Reaching out will be fun, since I know I&#8217;m an <a href="http://www.sinfest.net/view.php?date=2013-10-14">Introvert</a>.</p>

<p>Topics/Discussion: This one is kinda making me scratch my head. There&#8217;s so much out there. I think the key is to just take some topics and run with them.</p>

<p>Ganas: I really do think that there&#8217;s enough people in SD who want to be out there, exploring and learning new things. The key here will be convincing others that they are interested, and addressing what&#8217;s in it for them. Still some work to sort out here.</p>

<p>Yeah - those second two are fairly lacking for concretes, so I&#8217;ll have to come back to those at a later point.</p>

<p>Fundamentally, I think it&#8217;s about creating a learning community (a la learning organizations). I want people to feel safe and encouraged to explore and improve. Yeah, it helps me, but in the end it also is the right thing to do.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/12/oscon-2014-full-stack-development/">OSCON 2014 - Full Stack Development</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-12T23:44:00-07:00" pubdate data-updated="true">Jul 12<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In other news, I&#8217;m giving a tutorial on the Go language at OSCON. This
is a big one for me so hoping it goes well.</p>

<p><a href="http://oscon.com/oscon2014?cmp=ba-prog-confreg-home-os14_im_speaking"><img src="http://cdn.oreillystatic.com/en/assets/1/event/115/oscon2014_speaking_728x90.gif" width="728" height="90" title="m Speaking" alt="I"></a></p>

<p>As part of the lead up to it, they sent a call out to the speakers
asking us to comment on &#8220;full-stack development.&#8221; This was supposed to
be submitted as a video, but I didn&#8217;t get to it in time. It was open
ended, so not sure if it was supposed to be meaning or impact. So,
here’s some quick thoughts on it.</p>

<p>Fundamentally, being able to address the full stack is about
autonomy. Much has been done to show that people a driven by having
feelings of autonomy, mastery, and purpose (see Daniel Pink). The idea
is that if we feel like we are able to own the work, we are more
motivated to complete it. I think we can all think of personal
projects which we’ve been caught up in and put in the extra effort on
them. Part (yeah, only part) of what drives us is that we get to set
the terms of the project - how it&#8217;s conceived, how it&#8217;s developed, and
how it’s delivered.</p>

<p>In many organizations, much of this work has been given to specialized
functional units so it&#8217;s harder to have ownership in those sections.
Thinking about he full stack let&#8217;s us insert ourselves into those
parts of the project. Basically, being a full stack developer gives
you more changes to get that autonomy back.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/13/what-does-the-cloud-tm-mean/">What Does the Cloud(tm) Mean?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-13T01:20:00-08:00" pubdate data-updated="true">Feb 13<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The Cloud (tm) - it’s a term that is far too encompassing of too many concepts.</p>

<p>At first, I thought the problem with describing it was that it was like the image of 10 blind people trying to say what an elephant was by each describing the one part they could feel. The more I think about it, that doesn’t even do it. The focus of that description is all about the &#8220;physical” description, but we’ve ascribed so much more into what we think of as The Cloud (tm). Not only do we talk about what it is, but also what it can do, and what it can allow others to do. It’d be the same as trying to describe how an elephant herd interacts, or how the use of domesticated elephants affected agriculture or helped win a war.</p>

<p>In short, it’s impact is just as and probably more important than just what it is. So, let’s look at both of those in turn.</p>

<p>Physically, the cloud is a combination of the multiple *aaSes that exist, but largely focused on Software, Infrastructure, and Platform. Disclosure: In my realm, I end up interacting with the latter two, so this is largely concerned with those. To be clear, I say Infrastructure-aaS and mean any product which provides an abstraction of compute, storage and networking, which allows a user to obtain resources in a low latency (ideally sub-minutes given with self-service and API interfaces) SLA. PaaS is similar to the above but focuses on the application container (e.g. servlet engine, dynamic web server backend, database) instead of infrastructure components. The Cloud (tm) can be public or private, it can be outsourced or internal, and it can even be service organizations in addition to true services.</p>

<p>We add confusion because all of these are “physical” descriptions, and so we tend to first compare on that level. Many look at The Cloud (tm) as a single solution (most of the time, it’s AWS, but it can also happen on the other side with internal solutions). But really, we want to agree on what aspects of those solutions are important and the trade off that those require.</p>

<p>So what are those aspects? What can The Cloud (tm) enable? Well, in not particular order, and definitely not complete:</p>

<ul>
<li><p>It can be a cash flow offset. It allows you to focus on leveled burn (operational expenses) rather than big bang spends with depreciation (capital expenditures). How much this matters depends how your corporate finances are structured.</p></li>
<li><p>It can provide dynamic resource commitments. You can purchase resources for short term usages. The dynamic capability leads to a need for rapidly providing and taking those away. How much this matters depends on your duty cycle, your bursts, and what margins are like with the provider.</p></li>
<li><p>It can provide rapid global ramp up of resources. From the last point, where you get those dynamic resources, you can choose where they go. How much this matters depends on your ability to configure those resources rapidly and the global properties of your application, as well as the provider capabilities (e.g. points of presence).</p></li>
<li><p>It can be automation point. Not talk about The Cloud (tm) can happen without some aspect of automation. Every cloud is built upon it. Every interaction asks the question “how can we automate it?”  How much this matters - well, it just matters. Your ability to execute on this drives how helpful it is.</p></li>
<li><p>It can change the semantics of application deployments. You move from talking about a build of an application or code package, and towards building (at least for now) machine images or container images (with application and dependent code inside). How much this matters depends on how you do your application configuration.</p></li>
<li><p>It can change the semantics of host and system management. You move from talking about individual hosts to talking about abstract roles or clusters. See <a href="http://blog.corgalabs.com/blog/2014/01/11/more-than-just-pets-and-cattle/">Pets and Cattle</a>.</p></li>
<li><p>It can provide you a way to level your production. If you’re not familiar with <a href="http://en.wikipedia.org/wiki/Production_leveling">Heijunka</a>, it’s a way to smooth out the flow of invetory through the delivery pipeline. Virtual environments enable you to provide the just the right resources just in time, by taking larger undifferentiated resources and honing them into what you need. Previously, you had to be very targeted and keep a lot of pre-differentiated products that can be used when need be. This leveling helps speed everything up without keeping around too much inventory. How much this matters depends on how many different resource types you really need, and how much overhead you’re willing to take.</p></li>
<li><p>It can let users take care of themselves. It can provide self-service in very structured ways. You can replace people and teams and service catalogs with APIs. Replace is probably the wrong word as someone or something needs to handle the underlying infrastructure of the service, and the service itself becomes a very codified service catalog. How much this matters depends on the level of responsibility being expected and accepted by the service users.</p></li>
<li><p>It can transfer work and risk to a third party. You can outsource what you deem to be noncritical and/or commoditized aspects of your business to others. The funny thing about risk is that it is rarely actually transferred. How much this matters depends on how tolerant of risk you are, how much you can negotiate, and how well you can handle this internally.</p></li>
</ul>


<p>Ultimately, it’s a matter of gaining some level of real or perceived efficiency. That efficiency can come in the form of economic (as in using for bursting, or cash flow changes), or in the form of faster changes, or in the form of shifting responsibilities, or probably others.</p>

<p>A lot of the above can be achieved without using The Cloud (tm), and many of the aspects run counter to each other (e.g. virtualization overhead versus flexibility). All in all that makes it impossible to say that The Cloud (tm) is goal. The goal is ultimately to make money, but the question is which aspect(s) of The Cloud (tm) do the best to get you that?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/26/presenting-at-cascadiait-2014/">Presenting at CascadiaIT 2014</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-01-26T22:00:00-08:00" pubdate data-updated="true">Jan 26<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hey Kids! Big News!</p>

<p>I&#8217;ll be presenting at <a href="http://casitconf.org/casitconf14/">CascadiaIT 2014</a>! I&#8217;ve got two items:</p>

<ul>
<li><a href="http://casitconf.org/casitconf14/conference/tutorial-descriptions/">A Quick Introduction to System Tools Programming with Go</a> Tutorial</li>
<li><a href="http://casitconf.org/casitconf14/talk-descriptions/">Value Stream Mapping Your Workflows for Fun and Profit</a> Talk</li>
</ul>


<p>Registration is now open:</p>

<p><a href="http://casitconf.org/casitconf14/registration-is-now-open/">http://casitconf.org/casitconf14/registration-is-now-open/</a></p>

<p>So, if you&#8217;re anywhere near the Seattle area the second weekend in March, come on down to CascadiaIT!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/11/more-than-just-pets-and-cattle/">More Than Just Pets and Cattle</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-01-11T21:51:00-08:00" pubdate data-updated="true">Jan 11<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>wIt&#8217;s been said many times many ways that cloud) servers should be
treated like cattle, and not like pets. Looks like the first reference
is
<a href="http://www.slideshare.net/randybias/architectures-for-open-and-scalable-clouds">Bias</a>,
but there are quite a few others:
<a href="http://www.computerweekly.com/blogs/cwdn/2013/04/treat-cloud-servers-like-cattle-not-puppies.html">here</a>
<a href="http://www.gregarnette.com/blog/2012/05/cloud-servers-are-not-our-pets/">here</a>
<a href="http://www.theregister.co.uk/2013/03/18/servers_pets_or_cattle_cern/">here</a>
<a href="http://www.dameware.com/cmdprompt/are-your-servers-pets-or-cattle-.aspx">here</a>
just the top ones on a google search. The main idea being that we had
this tendency when the servers were fewer yet more longitudinal to
treat them delicately: putting care and feeding into each of them; now
that we (can) have large amounts of short lived instances, we can&#8217;t be
bothered with the same care.</p>

<p>That&#8217;s a completely valid way of thinking (it&#8217;s a great <em>place</em> to
be), so I&#8217;m curious as to where its limits are. In some ways, looking
at just servers that way is looking at a point in time and
capabilities and thought.</p>

<p>We&#8217;ve all had pet files. Remember that hand crafted config file that
you spent days of your life tweaking to get it just right? Maybe it
was specific to that host. At some point, you groomed it enough that
it became a golden file for your entire environment and you could copy
it and push it out to all of the other servers. Then you pushed it out
using some higher level config management system. Then you moved up
some semantic level and the file itself got abstracted into specific
resources, and those were composited and pushed out. So, files started
as pets, and by realizing that the file was only a model of something
that we actually cared about, they moved to cattle.</p>

<p>Really, pets are pets because you&#8217;ve become attached to them - you
can&#8217;t clone them, and it hurts to lose them. Cattle is cattle because
it&#8217;s easy to get another and it&#8217;s not a big deal if you lose
it. There&#8217;s a lot of different specific means to achieve these, but
it&#8217;s these two fundamental classes of properties that enable this
thinking:</p>

<p>1.) It&#8217;s easy to copy, and
2.) It&#8217;s easy to handle losing it (enter whatever you want to say
about antifrigilness here).</p>

<p>But thinking about files and servers is so the 2000-noughts. What are
our pets now?</p>

<p>Moving up from the server, is the cluster. Are clusters now the new
pets? or can we treat them as cattle as well? Given sufficiently large
IaaS services and strong configuration management systems and lots of
variable substitution (well, probably more like locally realized
global patterns), it&#8217;s actually fairly easy to fulfill property #1
above - copying. As for #2, if you have sufficient global load
balancing of any form (DNS, anycast, etc), you can easily route
traffic to working clusters, or more precisely, away from failing
(lost) clusters.</p>

<p>So, pulling further out, our clusters collapse into a service. Is that
our new pet? With even more config and *aaS and some client service
discovery (aka any sufficiently advanced delivery model), you can
certainly copy it. Though, if you lose your source code, it would
definitely take a bit to reproduce the service (get all those coders
together again, etc). What about losing it? Well, if you are a single
feature service inside of a larger service, you might be able to be
disabled, so you can lose it. But what about that larger service? I
think for most businesses, you can&#8217;t just lose it.</p>

<p>So, that&#8217;s your pet.</p>

<p>Maybe.</p>

<p>(One could examine businesses and business models and plans and use
the same comparisons, but I think this first point - what makes
something pet versus cattle across various object domains is copying
and dealing with lose - is done well enough, so my second point&#8230;).</p>

<p>There&#8217;s another way to slice (heh) this metaphor: milk. Not all cattle
is used for steak. Some cattle is used to produce a product, bulked up
again, then produce more of the same product. That cycle time might be
a little too short, so the metaphor might make a little more sense by
using different livestock - sheep. Some sheep are raise for mutton,
some sheep are raise for wool (and yes, you can do both, but
still). For the wool sheep, after the wool is reaped each year, you
have to let it grow out again before you can reap it again, all the
while caring for the sheep. The sheep itself stays around, but you
continue to reuse it.</p>

<p>That being said, you can use other sheep for the same purpose because
lots of wool is the same; and sheep have their own way to easily copy
each other well enough.</p>

<p>But you still don&#8217;t really want to lose a sheep. You still gotta deal
with it going away and getting the replacement there. The same really
applies to larger services (or businesses) - maybe you can copy it,
but you really don&#8217;t want to deal with it going away.</p>

<p>So, my second point is really that there&#8217;s a third category between
pets (hard to copy, hard to deal with loss) and (steak) cattle (easy
to copy, easy to deal with loss), and that&#8217;s of the milk cattle (easy
to copy, but still hard to deal with lose). This last category by its
very nature persists and is modified, rather than being destroyed and
rebuilt each time. All of those things that we had to think about for
when we wanted to change our pets still apply. Maybe it&#8217;s not to
servers, but the lessons learned are still valuable.</p>

<p>And lastly, not everyone is <em>there</em>. And not everyone who is <em>there</em>
is <em>there</em> for everything that they do (there&#8217;s probably a mix of
services made of cattle and services made of pets in a lot of
organizations). So don&#8217;t feel bad. Just figure out which one it should
be and work to improve.</p>

<p>PS Interesting enough, if we do the combinations of the above, there&#8217;s
the last class: a service which is hard to copy, but you can deal with
failure. I&#8217;m not really sure what that looks like, so I&#8217;m going to
leave it as an exercise for the reader. I&#8217;d be curious if anyone comes
up with something interesting. Contact me.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/23/dns-inverting-the-view/">DNS: Inverting the View</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-23T12:14:00-07:00" pubdate data-updated="true">Mar 23<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is something that I&#8217;ve thought for a while, but am trying to get
the backlog of thoughts out.</p>

<p>I&#8217;ll admit that I run bind for DNS because it&#8217;s a &#8220;safe&#8221;
default. There&#8217;s many cons against it, but it does work well enough
for many-many situations. But one of the issues that I&#8217;ve run into is
that how views are managed are counter to how I would like them to be
managed 99% of the time.</p>

<p>Specifically, the Zones are children of Views and when working with
the underlying configuration files, you have to maintain two separate
sets of files (or point to the same files and have the same data). I
want it to be the opposite to some degree. I want to be able to
maintain one zone file which mixes views with some markup on the
records themselves.</p>

<p>This isn&#8217;t necessarily a bind thing; though, bind certainly sets the
stage for others. It matches most DNS servers because it matches how
the mental model of DNS Zone delegation goes, but that may not be how
the mental model of record management in the context of views should
be. There may also be technical limitation, if you&#8217;re mixing zone
delegation of children zones (e.g. record bad in zone
child.example.com) in one view and child records that existing
directly . But honestly, in those cases, I think it goes back to the
&#8220;that&#8217;s an antipattern that you really shouldn&#8217;t be doing even when
you think you should be doing&#8221; that gave rise to linting programs, so
I&#8217;m going to discount that a bit.</p>

<p>The key here is that when I work on records that are split DNS, I&#8217;m
doing it on a per-record basis. I have to ask the question when I&#8217;m
looking at the record &#8220;where should this be visible from?&#8221; In the
context of the per-record, it&#8217;s much easier to answer. When I look at
an entire zone, it&#8217;s a PITA to say &#8220;where should <em>all of these</em> be
visibile from?&#8221;</p>

<p>Another side effect we end up with is that due to this extra overhead
of managing the split zones, we end up with some intenal.example.com
zone. That &#8220;internal&#8221; starts polluting everything. Yes, it&#8217;s ugly, but
the problem is more than just aesthetics. If you want to move a host
from one side to the other, or have a host respond to both sides, or
have any SSL certificates anywhere, or not expose that you have a
secret &#8220;internal&#8221; domain, or avoid any of a whole host of problems
because DNS is so critical to how we run networks, then, well, then
you&#8217;re sunk.</p>

<p>Again, this isn&#8217;t necessarily limited to bind, and honestly, how bind
or any other DNS server implements it doesn&#8217;t really matter. The DNS
server should be responsible for serving out queries. A separate
service should be responsible for the management of DNS. Everyone
wants a nice pretty (for whatever your definition of pretty is)
administrative interface. That is something that is separate and
builds on top of it. Realistically, the admin interface can be very
different from the configuration files. That&#8217;s part of the whole
point, isn&#8217;t it? The semantics and languaged used by the admin
interface get mapped into different configuration formats. If you want
to add a new DNS service, all you have to do is figure out the
mapping. The biggest mistake we make sometimes is directly
implementing the configuration format of the specific DNS service back
in the administrative interface. While it&#8217;d be nice if they match up,
it&#8217;s more critical to have the administrative interface match the
model that you believe is the most appropraite for the people using
it, and sometimes that doesn&#8217;t match the configuration files.</p>

<p>Along those lines, although I like bind from a practical standpoint, I
also like the make of tinydns, largely because it does this well. In
tinydns configuration, you name your views:</p>

<pre><code>    %internal:10
    %external:
</code></pre>

<p>Then you can follow up with associating the actual records with each
view:</p>

<pre><code>    +www.example.com:1.2.3.4:::external
    +www.example.com:10.11.12.13:::internal
</code></pre>

<p>It&#8217;s all in one nice neat location to look at.</p>

<p>There&#8217;s three extensions that I&#8217;d make here:</p>

<ol>
<li><p>The location part should be a tag - so you can have multiple
locations specified in one line. Yes, this is an edge case since most
people only deal with two views (internal and external), but it does
have meaning if you have more than 2 views. For instance, if you have
public, sitea, and siteb, and don&#8217;t want &#8220;bothsites&#8221; to be public:</p>

<pre><code>  +www.example.com:1.2.3.4:::external
  +www.example.com:10.11.12.13:::sitea,siteb
  +bothsites.example.com:10.11.12.14:::sitea,siteb
</code></pre></li>
<li><p>The location indicator for tinydns is really an indicator of the
view that you want it to be present in, for whatever properties, of
which clientip/location is only one, apply to the view. Basically, I&#8217;m
arguing that tiny-dns should support equivalents to the
match-destinations parameters of bind&#42;.</p></li>
<li><p>Add some magic for GeoDNS and let it be its own &#8220;location&#8221;
tag. This is some syntactic sugar that makes it easier to do since
it&#8217;s so common today and interacts interestingly with views.</p></li>
</ol>


<p>&#42; Actually, I&#8217;m not arguing that tinsdns should support that, just
like I&#8217;m not saying that bind needs to support per-record view
attributes. When it comes down to it, if the proper way for tinydns to
handle the match-destionations parameter is to run multiple tinsdns
instances bound to different destinations, that&#8217;s perfectly fine. It&#8217;s
the administrative wrappers or management interface around the DNS
service itself that needs to support this semantic, and then map that
out to the DNS service.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/19/firewall-rules-from-models/">Firewall Rules From Models</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-19T00:20:00-07:00" pubdate data-updated="true">Mar 19<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m trying to put a little more meat to the bones of my <a href="http://blog.corgalabs.com/blog/2012/03/26/ancl-application-network-communication-language/">ANCL
discussion</a>. Unfortunately,
I can&#8217;t say that I have a tool for it all, <em>yet</em>, but there&#8217;s a bit
more of the theoretical basis for it. Some of the key requirements
forming around ANCL are:</p>

<ul>
<li><p>It abstracts the components involved - roles are used instead of
source IPs and destionation IPs.</p></li>
<li><p>It generalizes the communication patterns - models are built using
the roles; these models can be used in different locations by
identifying what composes the roles.</p></li>
<li><p>It can compose multiple models together - since the models are
composed of roles, using the same role in multiple models connects
them together (caveat in the second side note).</p></li>
</ul>


<p>I was reviewing some slidedecks and came across
<a href="https://github.com/bulletproofnetworks/ript">Ript</a> which has a <a href="https://speakerdeck.com/auxesis/ript-making-linux-firewall-change-management-resilient">good
presentation</a>. It
is a powerful abstraction over iptables. Bonus: It&#8217;s abstraction can
even be carried to other stateful packet filters, software or
hardware.</p>

<p>Comparing it to ANCL, there&#8217;s several key differences:</p>

<ul>
<li><p>A partition is not a connection of models, but a combination of
them. It&#8217;s an administrative domain which lumps multiple unrelated
connections together. This is by far the biggest difference and is a
matter of the mental models.</p></li>
<li><p>The labels aren&#8217;t the same as roles. They&#8217;re good for identifying,
but they aren&#8217;t then instantiated. There&#8217;s a single mapping, when
multiple would be useful. This seems like an implementation detail
that could be easily addressed.</p></li>
<li><p>It&#8217;s focus is on specific instantiations of the models. While the
rules would be portable to different devices, this limits its
ability to be ported to separate but similar situations. This seems
like it is a matter of changing conventions (e.g. the naming of the
labels), but might be more.</p></li>
</ul>


<p>The first item is what it really comes down to is that these are two
different mental and description models for the problem. Ript is a
firewall abstraction language, and not necessarily an application
communication description language. That being said, there are a great
many other pieces of Ript, not the least of it being something
concrete, that make it very useful and means I have some work here to
move ANCL to something that can compare.</p>

<hr />

<p>There&#8217;s also two parts that Ript has also incorporated which I&#8217;ll be
honest that I don&#8217;t know how to incorporate into ANCL:</p>

<ul>
<li><p>NATs and SNATs and other translations. In many ways, these are not
critical to the application communication pattern, at least, not
critical at an abstract level. It&#8217;s when it&#8217;s applied in specific
contexts where translations come into play.</p></li>
<li><p>&#8220;Bad Guy&#8221; Rejects. Like transactions, these aren&#8217;t critical to
application communication patterns - in fact, these are
anti-communication patterns. Necessary at times, but not something
that are accounted for when building the patterns.</p></li>
</ul>


<hr />

<p>The side note from above is that the roles aren&#8217;t completely what are
connected to each other. Consider two models:</p>

<ol>
<li><p>A three tier application model which has a &#8220;webserver&#8221; role, an
&#8220;application&#8221; role, and a &#8220;DB&#8221; role.</p></li>
<li><p>A DB model which has an &#8220;application&#8221; role and a &#8220;DB&#8221; role.</p></li>
</ol>


<p>As the application owner of the first model, I would elaborate the
nodes in the &#8220;application&#8221; role. Most likely, the &#8220;DB&#8221; would be
specified by the DBA. Conversely, as the DB owner, I&#8217;d elaborate the
nodes in the &#8220;DB&#8221; role, and leave the &#8220;application&#8221; role to someone
else. In either case, half of the equation is left unfilled. There&#8217;s
(at least) two ways to approach this:</p>

<ol>
<li><p>Since the key is to connect the two edges for the
&#8220;application&#8221;-&#8220;DB&#8221; together, the real role association happens
there. So, what language should be used to describe these &#8220;edge
roles&#8221;?</p></li>
<li><p>The ambiguity can be taken away if we insert &#8220;connection points&#8221; or
&#8220;service&#8221; points into each model. In this case, in the application
model, we replace the &#8220;DB&#8221; role with a &#8220;DB&#8221; connection point, and in
the DB model, we replace the &#8220;application&#8221; role with a &#8220;DB&#8221; connection
point. When joining these models together, we overlay the connection
points.</p></li>
</ol>


<p>Not sure which is the right way, so that&#8217;ll probably comes down to
implementation.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/13/a-tale-of-two-paases/">A Tale of Two PaaSes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-13T20:38:00-07:00" pubdate data-updated="true">Mar 13<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I spend a good amount of time trying to figure out if my operational
team can do much to make the general engineering efforts more
productive. We&#8217;ve followed the usual turns around self-service IaaS
and the like, and we&#8217;re now exploring the next level of
Platforms-as-a-Service. In exploring the options, I&#8217;m seeing two large
patterns.</p>

<p>On one hand, there are the &#8220;middleware centric and injection based&#8221;
PaaS models. These are the ones where the developer picks a
development middleware (Java Servlet, PHP, Node, Rails, etc), and adds
other parts in. As if by an after thought, a static file service is
added, or maybe a data persistance (i.e. database) service is
added. On a implementation level, these usually involve allocating
some compute and storage resource (e.g. a VM), installing the
middleware container, doing a baseline install of the add-ons, and
starting them all up inside that VM. There are some other
configuration items such as pointing it at some version control
repository, but also the developer is able to login onto the VM via
shell.</p>

<p>On another hand, there&#8217;s a &#8220;service focused&#8221; PaaS model. This feels
like the lesser named PaaS, though it probably has a larger install
because this is the model that AWS largely is. In this case, the
developer picks different service components (e.g. DB, cache,
messaging bus, etc) and composites them a bit more
independently. Underneath the control layer, each of the component
providers can implement their services in different ways - using
different VMs, processes, or internal containers (e.g. DB schemas w/
authnz) - based on what makes sense for that provider. There&#8217;s more
work for the developer here as they have to compose services across
different providers, and the developer doesn&#8217;t have direct access to
the underlying system, but in exchange, might have better options.</p>

<p>From an implementor&#8217;s perspective, I think the service focused model
is easier to maintain. This may not necessarily be the right reason to
go down that route, but when it comes to delivery, that matters a
lot. It&#8217;s also a bit more transportable - at this point in the
industry&#8217;s lifecycle, it&#8217;d be easier to migrate from one IaaS or
traditional Infrastructure to another. It&#8217;s also easier to extend this
model to other (traditional?) services such as monitoring. You can see
this in the industry - there&#8217;s many different service providers
focusing on a narrow niche offering around one specific service, but
fewer middleware centric vendors and even those that exist tend to
also include some service based model for the add-ons.</p>

<p>As I said, most of the traditional services called PaaS are the
form. So, what makes the application middleware so much different than
a data store? or a caching layer? Fundamentally, you have some level
of &#8220;service&#8221; which you want to present a clean interface to. This is
true for the database as well as for a java servlet container, yet
somehow we treat them a little differently in our heads. The only
reason I can imagine is that is where time is spent. As a developer, I
spend most of my time in the code, so that&#8217;s where my mind goes. But
while I run it, I want to have a better idea of how it fits in with
the other component services.</p>

<p>I think the vote is still out on which way has better long term
viability. And it may never be decided on. It may just be a matter of
preference.</p>

<p>Maybe PaaS isn&#8217;t the right term for this second model. These are more
Services-as-a-Service, which seems likely to be a great way to confuse
people. Mmaybe they&#8217;re more along the lines of Infrastructure, and are
just a different take on that. I&#8217;ll admit, I&#8217;m not sure what the right
way to refer to them is, but I believe that the use case that they
present is more than just an implementor&#8217;s fancy. It&#8217;s a valid use
case based on how developers are expecting to work with it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/02/monitoring-discipline-1-meter/">Monitoring Discipline 1: Meter</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-02T23:52:00-07:00" pubdate data-updated="true">Oct 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In the last post, I talked about 4 different monitoring disciplines. In this, I&#8217;m talking about the first one: Meters; and try to distinguish some common Meter patterns.</p>

<p>I pick Meter for the first one for two reasons:</p>

<ul>
<li>It is the first one in the pipeline. It tends to be the closest to the feature being monitored.</li>
<li>It tends to be the mechanism that I (and I believe many others) think about first.</li>
</ul>


<p>The Meter is the basis of measurement. Whether it&#8217;s counting the number of bytes going through a network interface, a recording of events generated from snmp traps, a log watcher, or a stream of metrics coming out of an application, the Meter is any item that can be measured or status checked and the path for sending the measurements to consumers who are interested in them. These are two fundamental and distinct sides. In earlier days, they were typically intermingled in one feature or tool, but now technologies allow for different distinctions between those.</p>

<p>There are two main categories of data types for the Meters: numeric, and event based. The primary difference for these is distinguishing between looking at a specific value (or an aggregate or nonvalue items), and looking at a specific event. Numeric values have a continuous meaning - the read at time t will have a different but just as significant meaning than the reading at time t+1. Events on the other hand are not discernable in time - if I receive an event at time t, I may not know the state of the system at t+1 (sometimes I can do another poll, sometimes I can&#8217;t).</p>

<p>The Meter can use any number of mechanisms:</p>

<ul>
<li>SNMP Poll.</li>
<li>JMX Poll.</li>
<li>SNMP Trap.</li>
<li>Reviewing application logs and counting ERROR lines.</li>
<li>An application that exports mechanisms as a stream to some endpoint.</li>
<li>An application that sends events to a collector via syslog, a message queue or bus or chat protocol, an HTTP post to a web service, a generic mailbox mechanism.</li>
<li>An application that sends events via a message queue or bus to a collector.</li>
<li>A status/transactional check that grabs a web page and checks it for validity.</li>
</ul>


<p>We tend to want to turn Meters into a push versus pull argument, but it ends up being a false dicotomy. In many cases it depends on the perspective. An application which uses the <a href="https://github.com/codahale/metrics">metrics</a> will feel as it it&#8217;s pushing those data points out, but the collection engine that uses it may pull those data points via JMX calls.</p>

<p>The key with Meter is identifying What you want to be watching. Everything else is plumbing (as if saying that makes it all easier).</p>

<p>Note: While it can&#8217;t be discounted, the storage engine is not necessarily a part of the Meter. In many cases, the storage could also be used by the other disciplines. It&#8217;s capabilities impact Meters, but it is a technology area more than an area of monitoring work.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/08/23/why-do-i-do-defcon/">Why do I do DefCon?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/27/stepping-up-the-san-diego-computer-tech-community/">Stepping Up the San Diego Computer Tech Community</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/12/oscon-2014-full-stack-development/">OSCON 2014 - Full Stack Development</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/13/what-does-the-cloud-tm-mean/">What does The Cloud(tm) mean?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/26/presenting-at-cascadiait-2014/">Presenting at CascadiaIT 2014</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Chris McEniry -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
